name: Build

on: push

jobs:
  build:
    runs-on: ubuntu-latest
    #container: rebble/pebble-sdk:4.5-2
    steps:
      - uses: actions/checkout@v3

      - run: sudo apt update
      - run: sudo apt install python2
      - run: sudo update-alternatives --install /usr/bin/python python /usr/bin/python2.7 1
      - run: curl https://bootstrap.pypa.io/pip/2.7/get-pip.py --output get-pip.py
      - run: sudo python2 get-pip.py
      - run: sudo -H python2.7 -m pip install -U pip setuptools wheel virtualenv
      - run: sudo apt install python2-dev
      - run: sudo apt install libnode-dev npm

      - run: ls -al

      - run: pebble --help
